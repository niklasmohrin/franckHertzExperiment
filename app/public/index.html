<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			http-equiv="Content-Security-Policy"
			content="script-src 'self' https://cdnjs.cloudflare.com 'unsafe-inline'"
		/>
		<title>Franck Hertz Versuch</title>
		<link rel="stylesheet" href="index.css" />
	</head>
	<body>
		<div id="upper-container" class="container">
			<div id="tube-canvas-container" class="container">
				<img src="../assets/tube_full.png" id="tube-img" />
			</div>
		</div>
		<div id="lower-container" class="container">
			<div id="graph-container" class="container">
				<div id="graph-canvas-container" class="container"></div>
			</div>

			<div id="controls-container" class="container">
				<div class="input-group" id="material-select">
					<div class="radio-group">
						<input
							type="radio"
							class="radio"
							value="mercury"
							id="radioMercury"
							name="material"
							checked
						/>
						<label for="radioMercury">Mercury</label>
					</div>
					<div class="radio-group">
						<input
							type="radio"
							class="radio"
							value="neon"
							id="radioNeon"
							name="material"
						/>
						<label for="radioNeon">Neon</label>
					</div>
				</div>
				<div id="voltage-select">
					<div class="input-group">
						<label for="filament" class="range-label">Filament Voltage</label>
						<input
							type="range"
							min="0"
							max="1"
							step="0.0001"
							value="0"
							id="filament"
							class="control"
						/>
					</div>
					<div class="input-group">
						<label for="grid" class="range-label">Grid Voltage</label>
						<input
							type="range"
							min="0"
							max="1"
							step="0.0000001"
							value="0"
							id="grid"
							class="control"
						/>
					</div>
				</div>
			</div>
		</div>

		<!-- util functions, constants, input management -->
		<script src="../src/base.js"></script>

		<!-- Import p5.js -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/addons/p5.dom.min.js"></script>

		<!-- Import ParticleElectron.js -->
		<script src="../src/ParticleElectron.js"></script>

		<!-- Simulation -->
		<script src="../src/simulation.js"></script>

		<!-- importing and running the p5 sketches -->
		<script src="../src/tubeSketch.js"></script>
		<script src="../src/graphSketch.js"></script>

		<!-- Handling resize events -->
		<script>
			// only exectutes 250ms after last event
			let resizeTimer;
			window.addEventListener("resize", () => {
				clearTimeout(resizeTimer);
				resizeTimer = setTimeout(() => {
					tubeP5.reset();
					graphP5.reset();
				}, 250);
			});
		</script>
	</body>
</html>
